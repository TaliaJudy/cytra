<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Jack's Gallery ‚ú®</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<style>
  body {
    background: #111;
    font-family: 'Poppins', sans-serif;
    color: white;
    margin: 0;
    padding: 0;
  }
  h1 { text-align: center; padding: 1rem; }

  /* Age & Countdown Boxes */
  .age-box {
    max-width: 600px;
    margin: 0 auto 10px auto;
    padding: 16px;
    border-radius: 12px;
    background-size: 300% 300%;
    animation: gradientShift 6s ease infinite;
    text-align: center;
    font-size: 1rem;
    color: #222;
    box-shadow: 0 0 16px rgba(0,0,0,0.3);
  }
  #age-info {
    background: linear-gradient(135deg, #ff5a5a, #ff914d, #ffca4d);
  }
  #birthday-countdown {
    background: linear-gradient(135deg, #4d94ff, #4dff94);
  }
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  .age-box span {
    background: rgba(255, 255, 255, 0.7);
    padding: 0 4px;
    border-radius: 4px;
    font-weight: 600;
  }

  /* Gallery */
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 10px;
    padding: 10px;
  }
  .image-container {
    opacity: 0;
    transform: scale(0.95);
    background: #222;
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    animation: fadeInScale 0.7s forwards;
  }
  @keyframes fadeInScale {
    to { opacity: 1; transform: scale(1); }
  }
  .image-container img {
    width: 100%;
    cursor: pointer;
    display: block;
  }
  .caption {
    text-align: center;
    padding: 4px 0;
    background: #000;
    font-size: 0.9rem;
  }
  .reaction-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    padding: 4px;
    background: #222;
  }
  .reaction-bar button {
    background: none;
    border: none;
    color: #ff5a5a;
    cursor: pointer;
    font-size: 1.2rem;
  }
  .reaction-count { color: #fff; font-size: 0.9rem; }

  /* Fullscreen preview */
  .fullscreen {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.9);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 999;
  }
  .fullscreen img {
    max-width: 90%;
    max-height: 80%;
    border-radius: 8px;
  }
  .close-btn, .download-btn {
    position: absolute;
    top: 20px;
    background: #333;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
  }
  .close-btn { right: 20px; }
  .download-btn { right: 100px; }

  /* Music prompt overlay */
  .music-prompt {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 1rem;
    cursor: pointer;
    font-size: 1.2rem;
    text-align: center;
  }
</style>
</head>
<body>

<h1>Jack's Gallery ‚ú®</h1>
<div id="age-info" class="age-box"></div>
<div id="birthday-countdown" class="age-box"></div>

<audio id="bg-music" autoplay loop muted></audio>
<div class="music-prompt" id="music-prompt">Tap to Enable Music üéµ</div>

<div class="gallery">
  <!-- Images -->
  ${[...Array(18)].map((_,i) => {
    let id=i+1;
    return `
    <div class="image-container" data-id="${id}">
      <img src="${id}.jpg" alt="Pic ${id}">
      <div class="caption">Pic ${id}</div>
      <div class="reaction-bar">
        <button class="react-btn">‚ù§Ô∏è</button>
        <span class="reaction-count">0</span>
      </div>
    </div>`}).join('')}
</div>

<div class="fullscreen" id="fullscreen">
  <button class="close-btn">X</button>
  <button class="download-btn">Download</button>
  <img id="fullscreen-img" src="" alt="">
</div>

<script>
  // Music & prompt
  const audio = document.getElementById('bg-music')
  const tracks = ['SHOKA.m4a','Anxiety.m4a','Die_with_a_smile.m4a','track4.mp3']
  function playRandomTrack() {
    audio.src = tracks[Math.floor(Math.random() * tracks.length)]
    audio.play().catch(() => {})
  }
  playRandomTrack()
  audio.addEventListener('ended', playRandomTrack)

  const promptOverlay = document.getElementById('music-prompt')
  promptOverlay.addEventListener('click', () => {
    audio.muted = false
    audio.play().catch(() => {})
    promptOverlay.style.display = 'none'
  })

  // Age info
  const birthDate = new Date('2009-03-30T00:00:00')
  const ageInfo = document.getElementById('age-info')
  const bdayCountdown = document.getElementById('birthday-countdown')
  function updateAgeInfo() {
    const now = new Date()
    let ms = now - birthDate
    const years = now.getFullYear() - birthDate.getFullYear() -
      (now < new Date(now.getFullYear(), birthDate.getMonth(), birthDate.getDate()) ? 1 : 0)
    let months = now.getMonth() - birthDate.getMonth()
    if (months < 0) months += 12
    const weeks = Math.floor(ms / (1000 * 60 * 60 * 24 * 7))
    const days = Math.floor(ms / (1000 * 60 * 60 * 24))
    const hours = Math.floor(ms / (1000 * 60 * 60))
    const minutes = Math.floor(ms / (1000 * 60))
    const milliseconds = ms
    const isSixteenPlus = years >= 16
    const status = isSixteenPlus ? '<span>‚úÖ Age verified (16+)</span>' : '<span>‚ùå Age too young</span>'
    ageInfo.innerHTML = \`He is <span>\${years}</span> years, <span>\${months}</span> months, <span>\${weeks}</span> weeks, <span>\${days}</span> days, <span>\${hours}</span> hours, <span>\${minutes}</span> minutes, and <span>\${milliseconds}</span> milliseconds old<br>\${status}\`
  }
  setInterval(updateAgeInfo, 100); updateAgeInfo()

  function updateBirthdayCountdown() {
    const now = new Date()
    let nextBday = new Date(now.getFullYear(), 2, 30)
    if (now > nextBday) nextBday = new Date(now.getFullYear() + 1, 2, 30)
    const diff = nextBday - now
    const days = Math.floor(diff / (1000 * 60 * 60 * 24))
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))
    const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))
    const secs = Math.floor((diff % (1000 * 60)) / 1000)
    bdayCountdown.innerHTML = \`Next birthday in <span>\${days}</span> days, <span>\${hours}</span> hrs, <span>\${mins}</span> mins, <span>\${secs}</span> secs üéÇ\`
  }
  setInterval(updateBirthdayCountdown, 1000); updateBirthdayCountdown()

  // Reactions
  document.querySelectorAll('.image-container').forEach(imgContainer => {
    const id = imgContainer.dataset.id
    const countEl = imgContainer.querySelector('.reaction-count')
    const savedCount = localStorage.getItem('reaction-'+id) || 0
    countEl.textContent = savedCount
    imgContainer.querySelector('.react-btn').addEventListener('click', () => {
      let newCount = parseInt(countEl.textContent) + 1
      countEl.textContent = newCount
      localStorage.setItem('reaction-'+id, newCount)
    })
  })

  // Fullscreen preview
  const fullscreen = document.getElementById('fullscreen')
  const fullscreenImg = document.getElementById('fullscreen-img')
  const closeBtn = fullscreen.querySelector('.close-btn')
  const downloadBtn = fullscreen.querySelector('.download-btn')
  document.querySelectorAll('.image-container img').forEach(img => {
    img.addEventListener('click', () => {
      fullscreenImg.src = img.src
      fullscreen.style.display = 'flex'
    })
  })
  closeBtn.addEventListener('click', () => fullscreen.style.display = 'none')
  downloadBtn.addEventListener('click', () => {
    const link = document.createElement('a')
    link.href = fullscreenImg.src
    link.download = fullscreenImg.src.split('/').pop() || 'image'
    link.click()
  })

  // Fade-in stagger
  document.querySelectorAll('.image-container').forEach((el, index) => {
    el.style.animationDelay = (index * 0.08) + 's'
  })
</script>
</body>
</html>
